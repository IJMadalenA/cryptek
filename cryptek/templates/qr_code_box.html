<!-- Reusable QR Code Block -->
{% load static %}

{% block qr_code %}
    {% load static %}

    <style>
        .card {
            border: none;
            border-radius: 18px;
            overflow: hidden;
        }

        .card-body {
            padding: 15px;
            background-color: #f8f9fa; /* A light background color for better readability */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for a 3D effect */
            border-radius: 24px; /* Rounded corners for card body */
        }

        .card-text {
            font-size: 1.1em;
            line-height: 1.6; /* Better line spacing for readability */
            padding-bottom: 20px;
        }

        .card h5 {
            font-size: 1.25rem;
            color: #333;
        }

        .card p {
            color: #666;
        }

        .card .btn-primary {
            background-color: #185034;
            border-color: #185034;
        }

        .card .btn-primary:hover {
            background-color: #146128;
            border-color: #146128;
        }

        .qr-code-block {
            margin-top: 0;
        }

        .qr-image {
            width: auto;
            margin: 0 auto;
            aspect-ratio: 1 / 1;
            object-fit: contain;
        }

        .btn-group .btn {
            font-size: 0.8rem;
            border-radius: 18px;
        }

        @media (max-width: 576px) {
            /* Stack buttons vertically on small screens */
            .btn-group {
                flex-direction: column;
            }

            .btn-group .btn {
                width: 100%; /* Full width for better usability */
            }
        }
    </style>

    <div class="card shadow-sm qr-code-block">
        <div class="card-body text-center">

            <h5 class="card-title font-weight-bold">
                Support me with some BTC.
            </h5>

            <!-- QR Code Images -->
            <div class="mb-4">
                <img id="qr1" src="{% static 'images/qr-code-complete.svg' %}" alt="QR Code 1"
                     class="qr-image img-fluid active">
                <img id="qr2" src="{% static 'images/qr-code-only-address.svg' %}" alt="QR Code 2"
                     class="qr-image img-fluid d-none">
            </div>

            <!-- Buttons Group -->
            <div class="btn-group" role="group" aria-label="Switch between QR codes">
                <button type="button" id="btn-qr1" class="btn btn-outline-success active"
                        onclick="showQR('qr1', 'btn-qr1')">
                    Industry Standard
                </button>
                <button type="button" id="btn-qr2" class="btn btn-outline-success" onclick="showQR('qr2', 'btn-qr2')">
                    Only Address
                </button>
            </div>
        </div>
    </div>

    <script>
        function showQR(qrId, btnId) {
            // Hide all QR images
            document.querySelectorAll('.qr-image').forEach((img) => {
                img.classList.add('d-none'); // Hide the image
                img.classList.remove('active'); // Remove "active" class
            });

            // Show the selected QR image
            const selectedQR = document.getElementById(qrId);
            selectedQR.classList.remove('d-none'); // Show the image
            selectedQR.classList.add('active'); // Add "active" class

            // Update button states
            document.querySelectorAll('.btn-group .btn').forEach((btn) => {
                btn.classList.remove('active'); // Remove active state from buttons
            });

            const selectedBtn = document.getElementById(btnId);
            selectedBtn.classList.add('active'); // Add active state to the current button
        }
    </script>
{% endblock qr_code %}