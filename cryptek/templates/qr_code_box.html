<!-- Reusable QR Code Block -->
{% load static %}

{% block qr_code %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'styles/sidebar_card_style.css' %}">

    <div class="btc-donation-card card shadow-sm">
        <div class="card-body text-center">

            <h5 class="card-title">Support me with some BTC.</h5>

            <!-- QR Code Container -->
            <div class="qr-container">
                <img id="qr1" src="{% static 'images/qr-code-complete.svg' %}"
                     alt="Bitcoin QR Code - Complete" class="qr-image active" loading="lazy">
                <img id="qr2" src="{% static 'images/qr-code-only-address.svg' %}"
                     alt="Bitcoin QR Code - Only Address" class="qr-image d-none" loading="lazy">
            </div>

            <!-- QR Switch Buttons -->
            <div class="qr-btn-group">
                <button type="button" id="btn-qr1" class="qr-btn active" onclick="switchQR('qr1', 'btn-qr1')">
                    Industry Standard
                </button>
                <button type="button" id="btn-qr2" class="qr-btn" onclick="switchQR('qr2', 'btn-qr2')">
                    Only Address
                </button>
            </div>

        </div>
    </div>

    <script>
        function switchQR(qrId, btnId) {
            // Hide all QR images
            document.querySelectorAll('.qr-image').forEach(img => {
                img.classList.add('d-none');
                img.classList.remove('active');
            });

            // Show selected QR image
            document.getElementById(qrId).classList.remove('d-none');
            document.getElementById(qrId).classList.add('active');

            // Update button states
            document.querySelectorAll('.qr-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(btnId).classList.add('active');
        }
    </script>
{% endblock qr_code %}